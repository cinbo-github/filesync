目标端，传回目标文件的情况文件。
格式。

服务端和客户端的交互过程。 这里先忽略权限的问题。
服务程序有对同步目录的权限，ip 限制，发起用户限制。 新建连接都是通过ssl/tls。

文件创建时间，文件修改时间。 文件大小。

单次同步时，读取配置文件（主要是每个文件的同步方式，include或者是exclude清单）
源端把文件创建时间，文件修改时间，文件大小，发送到目标端。目标端根据这些判断哪些文件需要同步，然后把需要同步的内容，收集好检验和以及同步方式
发送到源端。源端根据这些文件清单，执行rsync检查，生成增量数据。把增量数据发送到目标端进行同步。
源端需要记录最后一次同步的数据，同步的文件清单，每个文件的最后修改时间.  下一次同步的时候，如果发现时间没变，就不需要改动了。

准实时同步：（主要是每个文件的同步方式，include或者是exclude清单）
第一次：
源端把文件创建时间，文件修改时间，文件大小，发送到目标端。目标端根据这些判断哪些文件需要同步，然后把需要同步的内容，以及同步方式发送给源端。
源端根据要求，同步所有内容。
记录同步的内容， 文件大小，创建时间，修改时间，DELETE时间，同步方式。

以后：
每隔固定时间同步，配置的秒同步一次。 同步时，看改动记录，里面有modify的就进行同步，或者delete和create

delete和create要重视。
如果是改名字操作，java只能抓到delete和create。只能通过目录和文件的创建时间去判断，这个目录是否是改动的还是新建的。
所以，同步时，需要事先扫描所有目录，并把目录内的所有文件和目录的创建时间记录下来(微秒)。供后来改动时判断，是改了文件名还是真的新建了文件夹或者是

连接是通过SSL双向认证，
IP地址过滤，用户过滤。







